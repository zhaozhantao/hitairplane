window.__require=function e(t,i,o){function l(n,a){if(!i[n]){if(!t[n]){var s=n.split("/");if(s=s[s.length-1],!t[s]){var c="function"==typeof __require&&__require;if(!a&&c)return c(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+n+"'")}}var p=i[n]={exports:{}};t[n][0].call(p.exports,function(e){return l(t[n][1][e]||e)},p,p.exports,e,t,i,o)}return i[n].exports}for(var r="function"==typeof __require&&__require,n=0;n<o.length;n++)l(o[n]);return l}({Airplane:[function(e,t,i){"use strict";cc._RF.push(t,"6e340wuqI5Ht63xNk7Amwuj","Airplane"),Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,l=o.ccclass,r=(o.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.focusing=!1,t.willDestroy=!1,t}return __extends(t,e),t.prototype.onCollisionEnter=function(){this.node.color=cc.color(244,0,0,255),this.focusing=!0},t.prototype.onCollisionExit=function(){this.node.color=cc.color(255,255,255,255),this.focusing=!1},t=__decorate([l],t)}(cc.Component));i.default=r,cc._RF.pop()},{}],Scene:[function(e,t,i){"use strict";cc._RF.push(t,"0548e883YtICbHN1xH6o0xs","Scene"),Object.defineProperty(i,"__esModule",{value:!0});var o=e("./Airplane"),l=cc._decorator,r=l.ccclass,n=l.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.AirplanePrefab=null,t.sky=null,t.bullet=null,t.airplaneList=[],t.bulletDirection=1,t.bulletRotationSpeed=45,t.bulletRotationMax=140,t.airplaneMoveSpeed=50,t.airplaneAddSpeed=2,t.airAddTime=0,t.gameOverPanel=null,t.playing=!1,t.bulletCount=0,t.maxBulletCount=10,t.bulletRevertSpeed=1,t.bulletCountLabel=null,t.bulletProgress=null,t.score=0,t.scoreLabel=null,t.scoreLabelInGameOver=null,t.help1Label=null,t.helpHitEmptyLabel=null,t.helpNoBulletLabel=null,t}return __extends(t,e),t.prototype.start=function(){cc.director.getCollisionManager().enabled=!0,this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchScreen,this),this.gameOverPanel.width=this.node.width,this.gameOverPanel.height=this.node.height,this.initAndStartGame()},t.prototype.initAndStartGame=function(){this.gameOverPanel.x=1e4;for(var e=0;e<this.airplaneList.length;e++){this.airplaneList[e].node.destroy()}this.airplaneList=[],this.playing=!0,this.bulletCount=this.maxBulletCount,this.score=0,this.scoreLabel.string=this.score+"\u5206",this.help1Label.x=0,this.helpHitEmptyLabel.x=1e4,this.helpNoBulletLabel.x=1e4},t.prototype.gameOver=function(){this.gameOverPanel.x=0,this.playing=!1,this.scoreLabelInGameOver.string=this.score+"\u5206",this.helpHitEmptyLabel.x=1e4,this.helpNoBulletLabel.x=1e4},t.prototype.update=function(e){if(this.playing){if(this.airAddTime+=e,this.airAddTime>this.airplaneAddSpeed){var t=cc.instantiate(this.AirplanePrefab);t.setParent(this.sky),t.setPosition(Math.random()*(this.sky.width-t.width)-(this.sky.width-t.width)/2,this.sky.height/2),this.airplaneList.push(t.getComponent(o.default)),this.airAddTime=0}for(var i=0;i<this.airplaneList.length;i++){(l=this.airplaneList[i]).node.y-=e*this.airplaneMoveSpeed,l.node.y<-(this.sky.height-l.node.height)/2&&this.gameOver()}this.bullet.rotation+=e*this.bulletRotationSpeed*this.bulletDirection,(this.bulletDirection>0&&this.bullet.rotation>this.bulletRotationMax/2||this.bulletDirection<0&&this.bullet.rotation<-this.bulletRotationMax/2)&&(this.bulletDirection=-this.bulletDirection);for(i=0;i<this.airplaneList.length;i++){var l;if((l=this.airplaneList[i]).willDestroy){l.node.destroy(),this.airplaneList.splice(i,1);break}}this.bulletCount=Math.min(this.maxBulletCount,this.bulletCount+e*this.bulletRevertSpeed),this.bulletCountLabel.string=Math.floor(this.bulletCount),this.bulletProgress.progress=this.bulletCount/this.maxBulletCount,this.bulletCount>=1?(this.bullet.color=cc.color(41,255,0),this.helpNoBulletLabel.x=1e4):(this.bullet.color=cc.color(150,150,150),this.helpNoBulletLabel.x=0)}},t.prototype.onTouchScreen=function(){if(this.bulletCount>=1){for(var e=!0,t=0;t<this.airplaneList.length;t++){var i=this.airplaneList[t];i.focusing&&(i.willDestroy=!0,e=!1,this.score++,this.scoreLabel.string=this.score+"\u5206",this.help1Label.x=1e4)}e&&this.bulletCount>=2&&this.score>0?(this.bulletCount-=2,this.bulletCount>=1&&(this.helpHitEmptyLabel.x=0)):this.score>0&&(this.bulletCount-=1,this.helpHitEmptyLabel.x=1e4)}},__decorate([n(cc.Prefab)],t.prototype,"AirplanePrefab",void 0),__decorate([n(cc.Node)],t.prototype,"sky",void 0),__decorate([n(cc.Node)],t.prototype,"bullet",void 0),__decorate([n(Number)],t.prototype,"bulletRotationSpeed",void 0),__decorate([n(Number)],t.prototype,"bulletRotationMax",void 0),__decorate([n(Number)],t.prototype,"airplaneMoveSpeed",void 0),__decorate([n(Number)],t.prototype,"airplaneAddSpeed",void 0),__decorate([n(cc.Node)],t.prototype,"gameOverPanel",void 0),__decorate([n(Number)],t.prototype,"bulletRevertSpeed",void 0),__decorate([n(cc.Label)],t.prototype,"bulletCountLabel",void 0),__decorate([n(cc.ProgressBar)],t.prototype,"bulletProgress",void 0),__decorate([n(cc.Label)],t.prototype,"scoreLabel",void 0),__decorate([n(cc.Label)],t.prototype,"scoreLabelInGameOver",void 0),__decorate([n(cc.Node)],t.prototype,"help1Label",void 0),__decorate([n(cc.Node)],t.prototype,"helpHitEmptyLabel",void 0),__decorate([n(cc.Node)],t.prototype,"helpNoBulletLabel",void 0),t=__decorate([r],t)}(cc.Component);i.default=a,cc._RF.pop()},{"./Airplane":"Airplane"}]},{},["Airplane","Scene"]);